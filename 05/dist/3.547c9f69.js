(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[3],{

/***/ 89:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(6);
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default.a);
// Module
___CSS_LOADER_EXPORT___.push([module.i, "._84Zlgb_bgDZPijjdxJ8kx {\n  flex: 1;\n  margin-top: 2%;\n}\n._84Zlgb_bgDZPijjdxJ8kx h4 {\n  text-align: center;\n}\n._1EiajWel-wgz7eol6TKvh1 {\n  flex: 1;\n  margin: 2% 0;\n}\n._1FTS9guScnqaBmBXfdoNMv {\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  flex: 1;\n}\n._1FTS9guScnqaBmBXfdoNMv li {\n  width: 10.4%;\n  text-align: center;\n  padding: 1.67%;\n  background-color: #dddddd;\n  margin: 0 6.7%;\n  box-sizing: content-box;\n  border-radius: 10px;\n}\n._1FTS9guScnqaBmBXfdoNMv li img {\n  width: 100%;\n  height: auto;\n  margin: 8% 0;\n}\n.C0GA51u9Eo43ZQBDo8qf5 {\n  margin-bottom: 10%;\n}\n._2wC5kX56w2CmBtUKtcll0I {\n  color: #6fafeb;\n}\n._1mqIoB4tzG41wOEFdnPNsN {\n  margin: 0;\n  text-align: left;\n}\n._17Mtk0drgEtrbx_1UdX537 {\n  text-decoration: none !important;\n}\n._17Mtk0drgEtrbx_1UdX537 button {\n  display: block;\n  margin: 0 auto;\n  padding: 0.5% 1%;\n  border-radius: 4px;\n}\n.JQNd4IIFnbbaOxHoRYgJg {\n  color: red;\n  text-align: center;\n  flex: 1;\n  padding-top: 2%;\n}\n", "",{"version":3,"sources":["webpack://./src/pages/Result.less"],"names":[],"mappings":"AACA;EACI,OAAA;EACA,cAAA;AAAJ;AAFA;EAIQ,kBAAA;AACR;AAEA;EACI,OAAA;EACA,YAAA;AAAJ;AAEA;EACI,WAAA;EACA,aAAA;EACA,uBAAA;EACA,OAAA;AAAJ;AAJA;EAMQ,YAAA;EACA,kBAAA;EACA,cAAA;EACA,yBAAA;EACA,cAAA;EACA,uBAAA;EACA,mBAAA;AACR;AAbA;EAcY,WAAA;EACA,YAAA;EACA,YAAA;AAEZ;AAEA;EACI,kBAAA;AAAJ;AAEA;EACI,cAAA;AAAJ;AAEA;EACI,SAAA;EACA,gBAAA;AAAJ;AAEA;EACI,gCAAA;AAAJ;AADA;EAGQ,cAAA;EACA,cAAA;EACA,gBAAA;EACA,kBAAA;AACR;AAEA;EACI,UAAA;EACA,kBAAA;EACA,OAAA;EACA,eAAA;AAAJ","sourcesContent":["@textcenter:center;\n.loading {\n    flex: 1;\n    margin-top: 2%;\n    h4 {\n        text-align: @textcenter;\n    }\n}\n.box {\n    flex: 1;\n    margin: 2% 0;\n}\n.main_box {\n    width: 100%;\n    display: flex;\n    justify-content: @textcenter;\n    flex: 1;\n    li {\n        width: 10.4%;\n        text-align: @textcenter;\n        padding: 1.67%;\n        background-color: rgb(221, 221, 221);\n        margin: 0 6.7%;\n        box-sizing: content-box;\n        border-radius: 10px;\n        img {\n            width: 100%;\n            height: auto;\n            margin: 8% 0;\n        }\n    }\n}\n.scores {\n    margin-bottom: 10%;\n}\n.name {\n    color: #6fafeb;\n}\n.icon_box {\n    margin: 0;\n    text-align: left;\n}\n.tobattle {\n    text-decoration: none !important;\n    button {\n        display: block;\n        margin: 0 auto;\n        padding: 0.5% 1%;\n        border-radius: 4px;\n    }\n}\n.error {\n    color: red;\n    text-align: center;\n    flex: 1;\n    padding-top: 2%;\n}"],"sourceRoot":""}]);
// Exports
___CSS_LOADER_EXPORT___.locals = {
	"loading": "_84Zlgb_bgDZPijjdxJ8kx",
	"box": "_1EiajWel-wgz7eol6TKvh1",
	"main_box": "_1FTS9guScnqaBmBXfdoNMv",
	"scores": "C0GA51u9Eo43ZQBDo8qf5",
	"name": "_2wC5kX56w2CmBtUKtcll0I",
	"icon_box": "_1mqIoB4tzG41wOEFdnPNsN",
	"tobattle": "_17Mtk0drgEtrbx_1UdX537",
	"error": "JQNd4IIFnbbaOxHoRYgJg"
};
/* harmony default export */ __webpack_exports__["a"] = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 90:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);

// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/asyncToGenerator.js
var asyncToGenerator = __webpack_require__(34);
var asyncToGenerator_default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator);

// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/classCallCheck.js
var classCallCheck = __webpack_require__(10);
var classCallCheck_default = /*#__PURE__*/__webpack_require__.n(classCallCheck);

// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/createClass.js
var createClass = __webpack_require__(11);
var createClass_default = /*#__PURE__*/__webpack_require__.n(createClass);

// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/assertThisInitialized.js
var assertThisInitialized = __webpack_require__(16);
var assertThisInitialized_default = /*#__PURE__*/__webpack_require__.n(assertThisInitialized);

// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/inherits.js
var inherits = __webpack_require__(12);
var inherits_default = /*#__PURE__*/__webpack_require__.n(inherits);

// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js
var possibleConstructorReturn = __webpack_require__(13);
var possibleConstructorReturn_default = /*#__PURE__*/__webpack_require__.n(possibleConstructorReturn);

// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/getPrototypeOf.js
var getPrototypeOf = __webpack_require__(3);
var getPrototypeOf_default = /*#__PURE__*/__webpack_require__.n(getPrototypeOf);

// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/defineProperty.js
var defineProperty = __webpack_require__(17);
var defineProperty_default = /*#__PURE__*/__webpack_require__.n(defineProperty);

// EXTERNAL MODULE: ./node_modules/@babel/runtime/regenerator/index.js
var regenerator = __webpack_require__(22);
var regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);

// EXTERNAL MODULE: ./node_modules/react/index.js
var react = __webpack_require__(0);
var react_default = /*#__PURE__*/__webpack_require__.n(react);

// EXTERNAL MODULE: ./node_modules/axios/index.js
var axios = __webpack_require__(23);
var axios_default = /*#__PURE__*/__webpack_require__.n(axios);

// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js
var react_router_dom = __webpack_require__(18);

// EXTERNAL MODULE: ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js
var injectStylesIntoStyleTag = __webpack_require__(5);
var injectStylesIntoStyleTag_default = /*#__PURE__*/__webpack_require__.n(injectStylesIntoStyleTag);

// EXTERNAL MODULE: ./node_modules/css-loader/dist/cjs.js?modules!./node_modules/postcss-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js!./src/pages/Result.less
var pages_Result = __webpack_require__(89);

// CONCATENATED MODULE: ./src/pages/Result.less

            

var options = {};

options.insert = "head";
options.singleton = false;

var update = injectStylesIntoStyleTag_default()(pages_Result["a" /* default */], options);



/* harmony default export */ var src_pages_Result = (pages_Result["a" /* default */].locals || {});
// CONCATENATED MODULE: ./src/pages/Result.js










function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = getPrototypeOf_default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = getPrototypeOf_default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return possibleConstructorReturn_default()(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }






var Result_Result = /*#__PURE__*/function (_Component) {
  inherits_default()(Result, _Component);

  var _super = _createSuper(Result);

  function Result(props) {
    var _this;

    classCallCheck_default()(this, Result);

    _this = _super.call(this, props);

    defineProperty_default()(assertThisInitialized_default()(_this), "componentWillUnmount", function () {
      _this.setState = function () {};
    });

    _this.state = {
      data: [],
      err: ''
    };
    return _this;
  }

  createClass_default()(Result, [{
    key: "componentDidMount",
    value: function () {
      var _componentDidMount = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee() {
        var _this2 = this;

        var url, s, p1, p2, res, arr, s1, s2;
        return regenerator_default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                url = this.props.location.search;
                console.log("url", url);
                s = new URLSearchParams(url);
                p1 = s.get('player1');
                p2 = s.get('player2');

                if (p1 === null || p2 === null) {
                  this.props.history.push('/battle');
                }

                _context.next = 8;
                return axios_default.a.all([axios_default.a.get("https://api.github.com/users/".concat(p1)), axios_default.a.get("https://api.github.com/users/".concat(p2))])["catch"](function (err) {
                  var status = err.response.status;
                  var message = err.response.data.message;

                  if (status === 404) {
                    _this2.setState({
                      err: message
                    }, function () {
                      setTimeout(function () {
                        _this2.props.history.push('/battle');
                      }, 1000);
                    });
                  } else if (status === 403) {
                    _this2.setState({
                      err: message
                    });
                  }
                });

              case 8:
                res = _context.sent;
                arr = [];
                res.forEach(function (item) {
                  var obj = {
                    name: item.data.name,
                    pos: item.data.location,
                    login: item.data.login,
                    url: item.data.avatar_url,
                    scores: item.data.public_repos,
                    following: item.data.following,
                    followers: item.data.followers
                  };
                  arr.push(obj);
                });
                s1 = arr[0];
                s2 = arr[1];

                if (s1.scores > s2.scores) {
                  s1.result = "Winner";
                  s2.result = "Loser";
                } else if (s1.scores === s2.scores) {
                  s1.result = "Draw";
                  s2.result = "Draw";
                } else {
                  s1.result = "Loser";
                  s2.result = "Winner";
                }

                this.setState({
                  data: arr
                });

              case 15:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function componentDidMount() {
        return _componentDidMount.apply(this, arguments);
      }

      return componentDidMount;
    }()
  }, {
    key: "render",
    value: function render() {
      var _this$state = this.state,
          data = _this$state.data,
          err = _this$state.err;

      if (err !== "") {
        return /*#__PURE__*/react_default.a.createElement("p", {
          className: src_pages_Result.error
        }, "\u6570\u636E\u8BF7\u6C42\u5931\u8D25\uFF0C\u8BF7\u5237\u65B0\u91CD\u8BD5\uFF01", /*#__PURE__*/react_default.a.createElement("br", null), /*#__PURE__*/react_default.a.createElement("br", null), err);
      }

      if (data.length === 0) {
        return /*#__PURE__*/react_default.a.createElement("div", {
          className: src_pages_Result.loading
        }, /*#__PURE__*/react_default.a.createElement("h4", null, /*#__PURE__*/react_default.a.createElement("i", {
          className: "fa fa-spinner fa-spin"
        }), " Loading ..."));
      }

      return /*#__PURE__*/react_default.a.createElement("div", {
        className: src_pages_Result.box
      }, /*#__PURE__*/react_default.a.createElement("ul", {
        className: src_pages_Result.main_box
      }, data.map(function (item) {
        return /*#__PURE__*/react_default.a.createElement("li", {
          key: item.login
        }, /*#__PURE__*/react_default.a.createElement("h2", null, item.result), /*#__PURE__*/react_default.a.createElement("img", {
          src: item.url,
          alt: ""
        }), /*#__PURE__*/react_default.a.createElement("h4", {
          className: src_pages_Result.scores
        }, "Scores:", item.scores), /*#__PURE__*/react_default.a.createElement("h4", {
          className: src_pages_Result.name
        }, item.name == null ? item.login : item.name), /*#__PURE__*/react_default.a.createElement("p", {
          className: src_pages_Result.icon_box
        }, /*#__PURE__*/react_default.a.createElement("i", {
          className: "fa fa-location-arrow"
        }, " ", item.pos)), /*#__PURE__*/react_default.a.createElement("p", {
          className: src_pages_Result.icon_box
        }, /*#__PURE__*/react_default.a.createElement("i", {
          className: "fa fa-group"
        }, " ", item.followers)), /*#__PURE__*/react_default.a.createElement("p", {
          className: src_pages_Result.icon_box
        }, /*#__PURE__*/react_default.a.createElement("i", {
          className: "fa fa-user-plus"
        }, " ", item.following)), /*#__PURE__*/react_default.a.createElement("p", {
          className: src_pages_Result.icon_box
        }, /*#__PURE__*/react_default.a.createElement("i", {
          className: "fa fa-code"
        }, " ", item.scores)));
      })), /*#__PURE__*/react_default.a.createElement(react_router_dom["b" /* NavLink */], {
        to: "/battle",
        className: src_pages_Result.tobattle
      }, /*#__PURE__*/react_default.a.createElement("button", {
        type: "button"
      }, "Reset")));
    }
  }]);

  return Result;
}(react["Component"]);

/* harmony default export */ var src_pages_Result_0 = __webpack_exports__["default"] = (Result_Result);

/***/ })

}]);
//# sourceMappingURL=3.547c9f69.js.map