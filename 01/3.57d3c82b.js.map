{"version":3,"sources":["webpack:///./src/pages/Result.less","webpack:///./src/pages/Result.less?3c48","webpack:///./src/pages/Result.js"],"names":["Result","props","setState","state","data","err","url","location","search","console","log","s","URLSearchParams","p1","get","p2","history","push","axios","all","status","response","message","setTimeout","res","arr","forEach","item","obj","name","pos","login","avatar_url","scores","public_repos","following","followers","s1","s2","result","error","length","loading","box","main_box","map","icon_box","tobattle","Component"],"mappings":"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","file":"3.57d3c82b.js","sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"._84Zlgb_bgDZPijjdxJ8kx {\\n  flex: 1;\\n  margin-top: 2%;\\n}\\n._84Zlgb_bgDZPijjdxJ8kx h4 {\\n  text-align: center;\\n}\\n._1EiajWel-wgz7eol6TKvh1 {\\n  flex: 1;\\n  margin: 2% auto;\\n}\\n._1FTS9guScnqaBmBXfdoNMv {\\n  width: 100%;\\n  display: flex;\\n  justify-content: center;\\n  flex: 1;\\n  margin: 0 auto;\\n}\\n._1FTS9guScnqaBmBXfdoNMv li {\\n  text-align: center;\\n  padding: 1.67%;\\n  background-color: #dddddd;\\n  margin: 0 6.7%;\\n  border-radius: 10px;\\n  margin-bottom: 2%;\\n}\\n@media (max-width: 768px) {\\n  ._1FTS9guScnqaBmBXfdoNMv li {\\n    padding: 8%;\\n  }\\n}\\n._1FTS9guScnqaBmBXfdoNMv li img {\\n  width: 100%;\\n  height: auto;\\n  margin: 8% 0;\\n}\\n.C0GA51u9Eo43ZQBDo8qf5 {\\n  margin-bottom: 10%;\\n}\\n._2wC5kX56w2CmBtUKtcll0I {\\n  color: #6fafeb;\\n}\\n._1mqIoB4tzG41wOEFdnPNsN {\\n  margin: 0;\\n  text-align: left;\\n}\\n._17Mtk0drgEtrbx_1UdX537 {\\n  text-decoration: none !important;\\n  display: block;\\n  margin: 0 auto;\\n  width: -webkit-max-content;\\n  width: -moz-max-content;\\n  width: max-content;\\n}\\n._17Mtk0drgEtrbx_1UdX537 button {\\n  padding: 10% 20%;\\n  border-radius: 5px;\\n}\\n.JQNd4IIFnbbaOxHoRYgJg {\\n  color: red;\\n  text-align: center;\\n  flex: 1;\\n  padding-top: 2%;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/pages/Result.less\"],\"names\":[],\"mappings\":\"AAEA;EACE,OAAA;EACA,cAAA;AADF;AADA;EAKI,kBAAA;AADJ;AAKA;EACE,OAAA;EACA,eAAA;AAHF;AAMA;EACE,WAAA;EACA,aAAA;EACA,uBAAA;EACA,OAAA;EACA,cAAA;AAJF;AADA;EAQI,kBAAA;EACA,cAAA;EACA,yBAAA;EACA,cAAA;EACA,mBAAA;EACA,iBAAA;AAJJ;AAMI;EAAA;IACE,WAAA;EAHJ;AACF;AAdA;EAoBM,WAAA;EACA,YAAA;EACA,YAAA;AAHN;AAQA;EACE,kBAAA;AANF;AASA;EACE,cAAA;AAPF;AAUA;EACE,SAAA;EACA,gBAAA;AARF;AAWA;EACE,gCAAA;EACA,cAAA;EACA,cAAA;EACA,0BAAA;EAAA,uBAAA;EAAA,kBAAA;AATF;AAKA;EAOI,gBAAA;EACA,kBAAA;AATJ;AAaA;EACE,UAAA;EACA,kBAAA;EACA,OAAA;EACA,eAAA;AAXF\",\"sourcesContent\":[\"@textcenter: center;\\n\\n.loading {\\n  flex: 1;\\n  margin-top: 2%;\\n\\n  h4 {\\n    text-align: @textcenter;\\n  }\\n}\\n\\n.box {\\n  flex: 1;\\n  margin: 2% auto;\\n}\\n\\n.main_box {\\n  width: 100%;\\n  display: flex;\\n  justify-content: @textcenter;\\n  flex: 1;\\n  margin: 0 auto;\\n\\n  li {\\n    text-align: @textcenter;\\n    padding: 1.67%;\\n    background-color: rgb(221, 221, 221);\\n    margin: 0 6.7%;\\n    border-radius: 10px;\\n    margin-bottom: 2%;\\n\\n    @media (max-width:768px) {\\n      padding: 8%;\\n    }\\n\\n    img {\\n      width: 100%;\\n      height: auto;\\n      margin: 8% 0;\\n    }\\n  }\\n}\\n\\n.scores {\\n  margin-bottom: 10%;\\n}\\n\\n.name {\\n  color: #6fafeb;\\n}\\n\\n.icon_box {\\n  margin: 0;\\n  text-align: left;\\n}\\n\\n.tobattle {\\n  text-decoration: none !important;\\n  display: block;\\n  margin: 0 auto;\\n  width: max-content;\\n\\n  button {\\n    padding: 10% 20%;\\n    border-radius: 5px;\\n  }\\n}\\n\\n.error {\\n  color: red;\\n  text-align: center;\\n  flex: 1;\\n  padding-top: 2%;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"loading\": \"_84Zlgb_bgDZPijjdxJ8kx\",\n\t\"box\": \"_1EiajWel-wgz7eol6TKvh1\",\n\t\"main_box\": \"_1FTS9guScnqaBmBXfdoNMv\",\n\t\"scores\": \"C0GA51u9Eo43ZQBDo8qf5\",\n\t\"name\": \"_2wC5kX56w2CmBtUKtcll0I\",\n\t\"icon_box\": \"_1mqIoB4tzG41wOEFdnPNsN\",\n\t\"tobattle\": \"_17Mtk0drgEtrbx_1UdX537\",\n\t\"error\": \"JQNd4IIFnbbaOxHoRYgJg\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","import api from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../node_modules/css-loader/dist/cjs.js?modules!../../node_modules/postcss-loader/dist/cjs.js!../../node_modules/less-loader/dist/cjs.js!./Result.less\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { NavLink } from \"react-router-dom\";\nimport result from \"./Result.less\";\n\nclass Result extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n      err: ''\n    };\n  }\n\n  async componentDidMount() {\n    const url = this.props.location.search;\n    console.log(\"url\", url);\n    const s = new URLSearchParams(url);\n    const p1 = s.get('player1');\n    const p2 = s.get('player2');\n    if (p1 === null || p2 === null) {\n      this.props.history.push('/battle');\n    }\n    const res = await axios.all([\n      axios.get(`https://api.github.com/users/${p1}`),\n      axios.get(`https://api.github.com/users/${p2}`)\n    ])\n      .catch(err => {\n        const { status } = err.response;\n        const { message } = err.response.data;\n        if (status === 404) {\n          this.setState({ err: message }, () => {\n            setTimeout(() => {\n              this.props.history.push('/battle');\n            }, 1000);\n          })\n        } else if (status === 403) {\n          this.setState({ err: message });\n        }\n      });\n    const arr = [];\n    res.forEach(item => {\n      const obj = {\n        name: item.data.name,\n        pos: item.data.location,\n        login: item.data.login,\n        url: item.data.avatar_url,\n        scores: item.data.public_repos,\n        following: item.data.following,\n        followers: item.data.followers\n      };\n      arr.push(obj);\n    });\n    const s1 = arr[0];\n    const s2 = arr[1];\n    if (s1.scores > s2.scores) {\n      s1.result = \"Winner\";\n      s2.result = \"Loser\";\n    } else if (s1.scores === s2.scores) {\n      s1.result = \"Draw\";\n      s2.result = \"Draw\";\n    } else {\n      s1.result = \"Loser\";\n      s2.result = \"Winner\";\n    }\n    this.setState({ data: arr });\n  }\n\n  componentWillUnmount = () => {\n    this.setState = () => { };\n  };\n\n  render() {\n    const { data, err } = this.state;\n    if (err !== \"\") {\n      return (<p className={result.error}>\n        数据请求失败，请刷新重试！<br /><br />{err}\n      </p>)\n    }\n    if (data.length === 0) {\n      return (\n        <div className={result.loading}>\n          <h4>\n            <i className=\"fa fa-spinner fa-spin\" /> Loading ...\n          </h4>\n        </div>\n      );\n    }\n    return (\n      <div className={`container ${result.box}`}>\n        <ul className={`row ${result.main_box}`}>\n          {data.map(item => (\n            <li key={item.login} className='col-10 col-md-3'>\n              <h2>{item.result}</h2>\n              <img src={item.url} alt=\"\" />\n              <h4 className={result.scores}>Scores:{item.scores}</h4>\n              <h4 className={result.name}>\n                {item.name == null ? item.login : item.name}\n              </h4>\n              <p className={result.icon_box}>\n                <i className=\"fa fa-location-arrow\"> {item.pos}</i>\n              </p>\n              <p className={result.icon_box}>\n                <i className=\"fa fa-group\"> {item.followers}</i>\n              </p>\n              <p className={result.icon_box}>\n                <i className=\"fa fa-user-plus\"> {item.following}</i>\n              </p>\n              <p className={result.icon_box}>\n                <i className=\"fa fa-code\"> {item.scores}</i>\n              </p>\n            </li>\n          ))}\n        </ul>\n        <NavLink to=\"/battle\" className={result.tobattle}>\n          <button type=\"button\">Reset</button>\n        </NavLink>\n      </div>\n    );\n  }\n}\n\nexport default Result;\n"],"sourceRoot":""}