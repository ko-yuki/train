(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{23:function(t,e,a){t.exports={carticon:"cart_carticon__juWmB",title:"cart_title__2E964",cart:"cart_cart__xpL2q",close:"cart_close__1X6Uc",goods:"cart_goods__28376",info:"cart_info__14pkW",goodsbox:"cart_goodsbox__2KumD",goodsinfo:"cart_goodsinfo__1KkCb",remove:"cart_remove__1ZK8P",goodsdesc:"cart_goodsdesc__2wont",price:"cart_price__3vxUX",goodsnum:"cart_goodsnum__3XX6B",add:"cart_add__1MdUy",checkout:"cart_checkout__3vrO9",total:"cart_total__2ZZq-",unitprice:"cart_unitprice__3GAni",ins:"cart_ins__3_ETB"}},355:function(t,e){},44:function(t,e,a){t.exports={title:"products_title__1gdaA",sort:"products_sort__1k_Or",card:"products_card__1yd2L",carditem:"products_carditem__U-Wxb",cardimg:"products_cardimg__34fUS",free:"products_free__3NJr1",cardtitle:"products_cardtitle__1BHhh",price:"products_price__3qdHf",single:"products_single__1Q5vo",add:"products_add__3-gm4"}},446:function(t,e,a){},447:function(t,e,a){},448:function(t,e,a){},591:function(t,e,a){"use strict";a.r(e);var c=a(0),n=a(60),r=a.n(n),s=(a(446),a(447),a(448),a(145)),o=a(76),i=a(77),l=a.n(i),d=a(600),u=a(5);var p=Object(n.connect)((function(t){return{state:t}}))((function(t){var e=t.state,a=t.dispatch,n=Object(c.useState)(["XS","S","M","ML","L","XL","XXL"]),r=Object(o.a)(n,1)[0],i=Object(c.useState)([!1,!1,!1,!1,!1,!1,!1]),p=Object(o.a)(i,2),j=p[0],b=p[1],x=e.products.origin;function f(t){!function(t){j[t]=!j[t],b(Object(s.a)(j))}(t),a({type:"products/filterSizes",payload:{sizes:r[t],origin:x}})}return Object(u.jsxs)("div",{className:"sizes-box",children:[Object(u.jsx)("h4",{className:l.a.title,children:"Sizes:"}),Object(u.jsx)("ul",{className:l.a.box,children:r.map((function(t,e){return Object(u.jsx)("li",{children:Object(u.jsx)("button",{style:{backgroundColor:j[e]?"#000":"#eee",color:j[e]?"#fff":"#000"},onClick:function(){return f(e)},type:"button",children:t})},e)}))}),Object(u.jsx)("p",{className:l.a.star,children:"Leave a star on Github if this repository was useful :)"}),Object(u.jsxs)("div",{className:l.a.btn,children:[Object(u.jsxs)("button",{type:"button",className:l.a.sbtn,children:[Object(u.jsx)(d.a,{})," Star"]}),Object(u.jsx)("button",{type:"button",className:l.a.nbtn,children:"1,760"})]})]})})),j=a(597),b=a(598),x=a(602),f=a(44),h=a.n(f);var m=Object(n.connect)((function(t){return{state:t}}))((function(t){var e=t.state,a=t.dispatch;Object(c.useEffect)((function(){a({type:"products/getProducts"})}),[a]);var n=e.products,r=n.data,s=n.loading,o=e.cart.cart;return Object(u.jsxs)("div",{className:"products-box",children:[Object(u.jsxs)("div",{className:h.a.title,children:[Object(u.jsxs)("span",{children:[r.length," Product(s) found."]}),Object(u.jsxs)("div",{className:h.a.sort,children:[Object(u.jsx)("span",{children:"Order by"}),Object(u.jsxs)("select",{name:"",onChange:function(t){return function(t){switch(t.target.options.selectedIndex){case 0:a({type:"products/getProducts"});break;case 1:a({type:"products/sortToHighest",payload:{data:r,idx:1}});break;case 2:a({type:"products/sortToLowerest",payload:{data:r,idx:2}})}}(t)},children:[Object(u.jsx)("option",{value:"Select",children:"Select"}),Object(u.jsx)("option",{value:"Lowest to highest",children:"Lowest to highest"}),Object(u.jsx)("option",{value:"Highest to lowest",children:"Highest to lowest"})]})]})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)(j.a,{tip:"Loading ...",spinning:s,style:{width:"100%",marginTop:"20%"}}),Object(u.jsx)(b.a,{className:h.a.card,children:r.map((function(t){return Object(u.jsxs)(b.a.Grid,{hoverable:!0,className:h.a.carditem,children:[Object(u.jsx)(x.a,{placeholder:Object(u.jsx)("img",{alt:"",src:"./img/loading.png",style:{width:"100%"}}),preview:!1,src:"./img/".concat(t.sku,"_1.jpg"),className:h.a.cardimg}),Object(u.jsx)("span",{className:h.a.free,children:"Free shipping"}),Object(u.jsx)("h3",{className:h.a.cardtitle,children:t.title}),Object(u.jsxs)("p",{className:h.a.price,children:["$\xa0",Object(u.jsx)("span",{children:t.price.toFixed(2)})]}),Object(u.jsxs)("p",{style:{opacity:t.installments?1:0},className:h.a.single,children:["or ",t.installments," \xd7",Object(u.jsxs)("span",{children:["$",(t.price/t.installments).toFixed(2)]})]}),Object(u.jsx)("button",{onClick:function(){a({type:"cart/addToCart",payload:{cart:o,product:t}})},className:h.a.add,type:"button",children:"Add to cart"})]},t.id)}))})]})]})})),O=a(23),_=a.n(O),g=a(601),y=a(599);var v=Object(n.connect)((function(t){return{state:t}}))((function(t){var e=t.state,a=t.dispatch,n=Object(c.useState)(!0),r=Object(o.a)(n,2),s=r[0],i=r[1],l=Object(c.useState)(-440),d=Object(o.a)(l,2),p=d[0],j=d[1],x=Object(c.useState)(!1),f=Object(o.a)(x,2),h=f[0],m=f[1],O=e.cart,v=O.cart,N=O.total,k=O.priceTotal,w=O.ins;return Object(c.useEffect)((function(){var t=JSON.parse(localStorage.getItem("cart"));t&&a({type:"cart/fromLocal",payload:t})}),[a]),Object(u.jsxs)("div",{className:_.a.cartbox,children:[Object(u.jsxs)("div",{style:{display:s?"block":"none"},className:_.a.carticon,onClick:function(){j(0),i(!s)},children:[Object(u.jsx)("img",{alt:"",src:"./img/cart.png"}),Object(u.jsx)("span",{children:N})]}),Object(u.jsxs)("div",{className:_.a.cart,style:{top:0,right:p},children:[Object(u.jsx)("button",{type:"button",className:_.a.close,style:{display:s?"none":"block"},onClick:function(){j(-440),i(!s)},children:"\xd7"}),Object(u.jsxs)("div",{className:_.a.goods,children:[Object(u.jsxs)("div",{className:_.a.title,children:[Object(u.jsx)("img",{src:"./img/cart.png",alt:""}),Object(u.jsx)("span",{children:N}),Object(u.jsx)("b",{children:"Cart"})]}),Object(u.jsxs)("p",{style:{display:N?"none":"block"},className:_.a.info,children:["Add some products in the cart",Object(u.jsx)("br",{}),":)"]}),Object(u.jsx)(b.a,{style:{display:N?"block":"none"},className:_.a.goodsbox,children:v.map((function(t,e){return Object(u.jsxs)(b.a.Grid,{className:_.a.goodsinfo,children:[Object(u.jsx)("button",{onClick:function(){return function(t,e){a({type:"cart/removeProduct",payload:{cart:t,index:e}}),0===t.length&&localStorage.removeItem("cart")}(v,e)},type:"button",className:_.a.remove,children:"\xd7"}),Object(u.jsx)("img",{src:"./img/".concat(t.sku,"_2.jpg"),alt:""}),Object(u.jsxs)("div",{className:_.a.goodsdesc,children:[Object(u.jsx)("h4",{children:t.title}),Object(u.jsxs)("p",{children:[t.availableSizes[0]," | ",t.style]}),Object(u.jsxs)("span",{children:["Quantity: ",t.num]})]}),Object(u.jsxs)("div",{className:_.a.price,children:[Object(u.jsxs)("p",{children:["$ ",t.price.toFixed(2)]}),Object(u.jsxs)("div",{className:_.a.goodsnum,children:[Object(u.jsx)("button",{onClick:function(){return function(t,e,c){a({type:"cart/cutNum",payload:{cart:t,product:e,index:c}})}(v,t,e)},style:{opacity:t.num<=1?.2:1,cursor:t.num<=1?"default":"pointer"},className:_.a.cut,children:"-"}),Object(u.jsx)("button",{onClick:function(){return function(t,e,c){a({type:"cart/addNum",payload:{cart:t,product:e,index:c}})}(v,t,e)},className:_.a.add,children:"+"})]})]})]},t.id)}))})]}),Object(u.jsxs)("div",{className:_.a.checkout,children:[Object(u.jsxs)("p",{className:_.a.total,children:[Object(u.jsx)("span",{children:"SUBTOTAL"}),Object(u.jsxs)("span",{className:_.a.unitprice,children:["$ ",k.toFixed(2)]})]}),Object(u.jsxs)("p",{style:{display:w?"block":"none"},className:_.a.ins,children:["OR UP TO ",w," x $ ",(k/w).toFixed(2)]}),Object(u.jsx)("button",{onClick:function(){return m(!0)},children:"CHECKOUT"}),Object(u.jsxs)(y.a,{title:"CHECKOUT",visible:h,onCancel:function(){0!==N?g.b.info("Fail Checkout!"):g.b.info("Add some goods to cart!"),m(!1)},onOk:function(){return function(t){0!==t.length?(a({type:"cart/checkout",payload:{cart:t}}),g.b.success("Success Checkout")):g.b.info("Add some goods to cart!"),m(!1),localStorage.removeItem("cart")}(v)},children:[Object(u.jsxs)("p",{style:{display:N?"block":"none"},children:["Checkout - Subtotal: $ ",k.toFixed(2)]}),Object(u.jsx)("p",{style:{display:N?"none":"block"},children:"Add some product in the cart!"})]})]})]})]})}));var N=function(){return Object(u.jsxs)("div",{className:"app",children:[Object(u.jsx)(p,{}),Object(u.jsx)(m,{}),Object(u.jsx)(v,{})]})},k=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,603)).then((function(e){var a=e.getCLS,c=e.getFID,n=e.getFCP,r=e.getLCP,s=e.getTTFB;a(t),c(t),n(t),r(t),s(t)}))},w=a(19),T=a.n(w),S=a(55),C=a(291),L=a.n(C),z=function(){return L.a.get("products.json").then((function(t){return t.data.products}))},F=[],P=function(t){var e=t.sizes,a=t.origin,c=Object(s.a)(a),n=F.indexOf(e);return-1===n?F.push(e):F.splice(n,1),F.forEach((function(t){c=c.filter((function(e){return-1!==e.availableSizes.indexOf(t)}))})),c},A=function(t){var e,a=t.data,c=t.idx;return a.sort((e="price",function(t,a){var n=t[e],r=a[e];return 1===c?n-r:r-n}))},E={namespace:"products",state:{origin:[],data:[],loading:!0},reducers:{get:function(t,e){var a=e.payload,c={origin:a.data,data:a.data,loading:a.loading};return Object(S.a)({},c)},size:function(t,e){var a=e.payload;return t.data=a,t=Object(S.a)({},t)}},effects:{getProducts:T.a.mark((function t(e,a){var c,n,r;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=a.call,n=a.put,t.next=3,c(z);case 3:return r=t.sent,t.next=6,n({type:"get",payload:{data:r,loading:!1}});case 6:case"end":return t.stop()}}),t)})),filterSizes:T.a.mark((function t(e,a){var c,n,r,s;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.payload,n=a.call,r=a.put,t.next=4,n(P,c);case 4:return s=t.sent,t.next=7,r({type:"size",payload:s});case 7:case"end":return t.stop()}}),t)})),sortToHighest:T.a.mark((function t(e,a){var c,n,r,s;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.payload,n=a.call,r=a.put,t.next=4,n(A,c);case 4:return s=t.sent,t.next=7,r({type:"get",payload:{data:s,loading:!1}});case 7:case"end":return t.stop()}}),t)})),sortToLowerest:T.a.mark((function t(e,a){var c,n,r,s;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.payload,n=a.call,r=a.put,t.next=4,n(A,c);case 4:return s=t.sent,t.next=7,r({type:"get",payload:{data:s,loading:!1}});case 7:case"end":return t.stop()}}),t)}))}};function U(t){var e=0,a=0,c=0;return t.forEach((function(t){e+=t.num,a+=t.num*t.price,t.installments>c&&(c=t.installments)})),{sum:e,priceTotal:a,ins:c}}var H=function(t){var e=t.cart,a=t.product,c=0;0===e.length||-1===(c=e.findIndex((function(t){return t.id===a.id})))?(a.num=1,e.push(a)):e[c].num++;var n=U(e);return{cart:e,total:n.sum,priceTotal:n.priceTotal,ins:n.ins}},X=function(t){var e=t.cart,a=t.product,c=t.index,n=Object(S.a)({},a);n.num--,n.num<=1&&(n.num=1),e.splice(c,1,n);var r=U(e);return{cart:e,total:r.sum,priceTotal:r.priceTotal,ins:r.ins}},B=function(t){var e=t.cart,a=t.product,c=t.index,n=Object(S.a)({},a);n.num++,e.splice(c,1,n);var r=U(e);return{cart:e,total:r.sum,priceTotal:r.priceTotal,ins:r.ins}},I=function(t){var e=t.cart,a=t.index;e.splice(a,1);var c=U(e);return{cart:e,total:c.sum,priceTotal:c.priceTotal,ins:c.ins}},J=function(t){return{cart:[],total:0,priceTotal:0,ins:0}},$=function(t){var e=U(t);return{cart:t,total:e.sum,priceTotal:e.priceTotal,ins:e.ins}},G={namespace:"cart",state:{cart:[],total:0,priceTotal:0,ins:0},reducers:{update:function(t,e){var a=e.payload;return t=Object(S.a)(Object(S.a)({},t),a)}},effects:{addToCart:T.a.mark((function t(e,a){var c,n,r,s;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.payload,n=a.call,r=a.put,t.next=4,n(H,c);case 4:return s=t.sent,t.next=7,r({type:"update",payload:s});case 7:case"end":return t.stop()}}),t)})),cutNum:T.a.mark((function t(e,a){var c,n,r,s;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.payload,n=a.call,r=a.put,t.next=4,n(X,c);case 4:return s=t.sent,t.next=7,r({type:"update",payload:s});case 7:case"end":return t.stop()}}),t)})),addNum:T.a.mark((function t(e,a){var c,n,r,s;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.payload,n=a.call,r=a.put,t.next=4,n(B,c);case 4:return s=t.sent,t.next=7,r({type:"update",payload:s});case 7:case"end":return t.stop()}}),t)})),removeProduct:T.a.mark((function t(e,a){var c,n,r,s;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.payload,n=a.call,r=a.put,t.next=4,n(I,c);case 4:return s=t.sent,t.next=7,r({type:"update",payload:s});case 7:case"end":return t.stop()}}),t)})),checkout:T.a.mark((function t(e,a){var c,n,r,s;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.payload,n=a.call,r=a.put,t.next=4,n(J,c);case 4:return s=t.sent,t.next=7,r({type:"update",payload:s});case 7:case"end":return t.stop()}}),t)})),fromLocal:T.a.mark((function t(e,a){var c,n,r,s;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.payload,n=a.call,r=a.put,t.next=4,n($,c);case 4:return s=t.sent,t.next=7,r({type:"update",payload:s});case 7:case"end":return t.stop()}}),t)}))}},K=r()({onStateChange:function(t){var e=t.cart.cart;e.length>0&&localStorage.setItem("cart",JSON.stringify(e))}});K.model(E),K.model(G),K.router((function(){return Object(u.jsx)(N,{})})),K.start("#root"),k()},77:function(t,e,a){t.exports={title:"sizes_title__i56GE",box:"sizes_box__3w7t0",star:"sizes_star__10jqP",btn:"sizes_btn__3LZ94",sbtn:"sizes_sbtn__2dNB-",nbtn:"sizes_nbtn__2nWAJ"}}},[[591,1,2]]]);
//# sourceMappingURL=main.dcc402ce.chunk.js.map